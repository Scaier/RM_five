# 识别步兵装甲板
## 第一步 图像二值化
    将图像二值化后，发现图像噪音白点很多，不容易识别，如果用上一次任务的图像联通域分析后统计白色像素数目会造成卡顿，所以需要另外想方法。
    首先，为了消除小部分噪音白点，需要对图像进行腐蚀处理，已将噪音白点连成一片，从而更好去除。
    其次，对图像进行联通域分析，获得图像各个白色目标的矩形位置。
## 第二步 筛选目标
    首先，对获得的连通域进行分析，发现光条的特征比较明显，整体呈现竖直形，因为倾斜角度比较接近于90度，其次，由于倾斜角度固定，其外接最小矩形的面积和它之比保持在一个恒定的数值
    其次，根据这些条件，即可分析的到灯条的位置。
    再次，根据灯条矩形上下两对顶点的位置，即可获得灯条上下两个顶点的位置。通过这样筛选，可以获得所有灯条的上下两个顶点的位置。
    再次，需要匹配灯条对。根据两个顶点间的距离，以及连线的倾斜角度，即可筛选出成对的”显著“的灯条。
    再次，获得一对灯条的四个顶点坐标，即可根据这些坐标的平均值，获得装甲板中心的位置。
## 第三步 定位距离
    首先，PNP算法，可以通过计算，获得二维图像和三位坐标之间转换的关系，因为比较适用。
    其次，需要对相机用棋盘格定标，检测棋盘的角点，并于理论坐标相对应，获得相机的参数(这里在Python上用cv2计算)。
    再次，由于并不知道目标的实际三维坐标值，但是可以假设装甲板中心位置的z值为0，只需计算出相机相对于这个位置的位置(虽然是负数)即可，最后将这个负数加个负号即可。
    再次，通过测量装甲板灯条长度等数据，获得灯条四个顶点相对于中心点的位置，用于定位，计算即可。
